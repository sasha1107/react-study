import { DeepDive } from '@app/components/DeepDive';
import { Highlight } from '@app/components/Highlight';
import { CodeBlock } from '@app/components/CodeBlock';
import { Pitfall } from '@app/components/Pitfall';
import { RedCard } from '@app/components/RedCard';
import { WhiteCard } from '@app/components/WhiteCard';

# useKeyPress

ì‚¬ìš©ìê°€ í‚¤ë³´ë“œì—ì„œ íŠ¹ì • í‚¤ë¥¼ ëˆ„ë¥¼ ë•Œ ì‰½ê²Œ ê°ì§€

- - -

# useKeyPress.ts

<CodeBlock lang='typescript'>
{`import { useState, useEffect } from 'react';

function useKeyPress(targetKey: string): boolean {
    // í‚¤ê°€ ëˆŒë ¸ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ state
    const [keyPressed, setKeyPressed] = useState(false);
    // ëˆ„ë¥¸ key === targetKeyë¼ë©´ keyPressedë¥¼ trueë¡œ ì„¤ì •
    function downHandler({ key }): void {
        if (key === targetKey) {
            setKeyPressed(true);
        }
    }
    
    // ëˆ„ë¥¸í‚¤ê°€ keyup ë˜ë©´ keyPressedë¥¼ falseë¡œ ë³€ê²½
    const upHandler = ({ key }): void => {
        if (key === targetKey) {
            setKeyPressed(false);
        }
    };
    useEffect(() => {
        // keydown, keyup ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ downHandler / upHandler í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.
        window.addEventListener('keydown', downHandler);
        window.addEventListener('keyup', upHandler);

        // useEffectê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë¶€ì°©ë˜ê³ , ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì¡ì•„ë¨¹ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— removeEventListenerë¥¼ í•´ì¤€ë‹¤.
        return () => {
            window.removeEventListener('keydown', downHandler);
            window.removeEventListener('keyup', upHandler);
        };
    }, []); // ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ ë ë•Œì™€ ì–¸ë§ˆìš´íŠ¸ ë  ë•Œ ì‹¤í–‰
    return keyPressed;
}

export default useKeyPress;
`}
</CodeBlock>

- - -

# ì‚¬ìš©
<CodeBlock lang='javascript'>
{`import useKeyPress from "./useKeyPress"
// Usage
function App() {
  // Call our hook for each key that we'd like to monitor
  const happyPress = useKeyPress("h");
  const sadPress = useKeyPress("s");
  const robotPress = useKeyPress("r");
  const foxPress = useKeyPress("f");
  return (
    <div>
      <div>h, s, r, f</div>
      <div>
        {happyPress && "ğŸ˜Š"}
        {sadPress && "ğŸ˜¢"}
        {robotPress && "ğŸ¤–"}
        {foxPress && "ğŸ¦Š"}
      </div>
    </div>
  );
}`}
</CodeBlock>