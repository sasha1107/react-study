import { DeepDive } from '@app/components/DeepDive';
import { Highlight } from '@app/components/Highlight';
import { CodeBlock } from '@app/components/CodeBlock';
import { Pitfall } from '@app/components/Pitfall';
import { RedCard } from '@app/components/RedCard';
import { WhiteCard } from '@app/components/WhiteCard';

# useLockBodyScroll
íŠ¹ì • êµ¬ì„± ìš”ì†Œê°€ í˜ì´ì§€ ìœ„ì— ì ˆëŒ€ì ìœ¼ë¡œ ë°°ì¹˜ë˜ì–´ ìˆëŠ” ë™ì•ˆ ì‚¬ìš©ìê°€ í˜ì´ì§€ ë³¸ë¬¸ì„ ìŠ¤í¬ë¡¤í•  ìˆ˜ ì—†ë„ë¡ í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆìŠµë‹ˆë‹¤(ëª¨ë‹¬ ë˜ëŠ” ì „ì²´ í™”ë©´ ëª¨ë°”ì¼ ë©”ë‰´ ìƒê°).
íŠ¹íˆ ëª¨ë‹¬ ë‚´ì—ì„œ ì˜ì—­ì„ ìŠ¤í¬ë¡¤í•˜ë ¤ëŠ” ê²½ìš° ëª¨ë‹¬ ì•„ë˜ì—ì„œ ë°°ê²½ ì½˜í…ì¸  ìŠ¤í¬ë¡¤ì„ ë³´ëŠ” ê²ƒì€ í˜¼ë€ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸€ì„, ì´ í›„í¬ëŠ” ê·¸ê²ƒì„ í•´ê²°í•©ë‹ˆë‹¤! êµ¬ì„± ìš”ì†Œì—ì„œ useLockBodyScroll í›„í¬ë¥¼ í˜¸ì¶œí•˜ê¸°ë§Œ í•˜ë©´ í•´ë‹¹ êµ¬ì„± ìš”ì†Œê°€ ë§ˆìš´íŠ¸ í•´ì œë  ë•Œê¹Œì§€ ë³¸ë¬¸ ìŠ¤í¬ë¡¤ì´ ì ê¹ë‹ˆë‹¤.

- - -

# useLockBodyScroll.ts

<CodeBlock lang='typescript'>
{`import { useLayoutEffect } from 'react';

function useLockBodyScroll(): void {
    // useLaoutEffect callback return type is "() => void" type
    useLayoutEffect((): (() => void) => {
        // ê¸°ì¡´ bodyì˜ css overflow ì†ì„±ê°’ì„ ì €ì¥
        const originalStyle: string = window.getComputedStyle(
            document.body
        ).overflow;

        // ë§ˆìš´íŠ¸ë˜ì—ˆì„ ë•Œ ìŠ¤í¬ë¡¤ ë§‰ê¸° overflow: hidden;
        document.body.style.overflow = 'hidden';

        // ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ ë˜ë©´ ë‹¤ì‹œ ìŠ¤í¬ë¡¤ì´ ê°€ëŠ¥í•˜ë„ë¡ ì²˜ë¦¬
        return () => (document.body.style.overflow = originalStyle);
    }, []); // ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ ë ë•Œì™€ ì–¸ë§ˆìš´íŠ¸ ë  ë•Œ ì‹¤í–‰
}
export default useLockBodyScroll;`}
</CodeBlock>

- - -

# ì‚¬ìš©

<CodeBlock lang='javascript'>
{`import useLockBodyScroll from "./useLockBodyScroll"
// Usage
function App() {
    // State for our modal
    const [modalOpen, setModalOpen] = useState<boolean>(false);
    return (
        <div>
            <button onClick={() => setModalOpen(true)}>Show Modal</button>
            <Content />
            {modalOpen && (
                <Modal
                    title='Try scrolling'
                    content="I bet you you can't! Muahahaha ğŸ˜ˆ"
                    onClose={() => setModalOpen(false)}
                />
            )}
        </div>
    );
}

// Define modal props type
type ModalProps = {
    title: string;
    content: string;
    onClose: () => void;
};

function Modal({ title, content, onClose }: ModalProps) {
    // Call hook to lock body scroll
    useLockBodyScroll();
    return (
        <div className='modal-overlay' onClick={onClose}>
            <div className='modal'>
                <h2>{title}</h2>
                <p>{content}</p>
            </div>
        </div>
    );
}`}
</CodeBlock>